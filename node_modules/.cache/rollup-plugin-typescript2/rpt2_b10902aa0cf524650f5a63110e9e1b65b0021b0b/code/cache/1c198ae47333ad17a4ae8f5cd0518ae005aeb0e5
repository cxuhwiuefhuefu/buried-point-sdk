{"code":"/*\r\n * @Author: Sunny\r\n * @Date: 2022-08-18 10:48:13\r\n * @LastEditors: Suuny\r\n * @LastEditTime: 2022-08-26 18:13:43\r\n * @Description:\r\n * @FilePath: /buried-point-sdk/src/core/index.ts\r\n */\r\nimport { TrackerConfig } from \"../types/index\";\r\nimport { craeteHistoryEvent } from '../utils/pv';\r\nexport default class Tracker {\r\n    constructor(options) {\r\n        this.data = Object.assign(this.initDef, options);\r\n    }\r\n    initDef() {\r\n        window.history['pushState'] = craeteHistoryEvent('pushState');\r\n        window.history['replaceState'] = craeteHistoryEvent('replaceState');\r\n        return {\r\n            sdkVersion: TrackerConfig.version,\r\n            historyTracker: false,\r\n            hashTracker: false,\r\n            domTracker: false,\r\n            jsError: false\r\n        };\r\n    }\r\n    // 事件捕获器\r\n    captureEvents(mouseEventList, targetKey, data) {\r\n        mouseEventList.forEach(event => {\r\n            window.addEventListener(event, () => {\r\n                console.log('监听到了');\r\n            });\r\n        });\r\n    }\r\n    installTracker() {\r\n        if (this.data.historyTracker) {\r\n            this.captureEvents(['pushState', 'replaceState', 'popstate'], 'history-pv');\r\n        }\r\n    }\r\n}\r\n","references":["/Users/cmh/Desktop/selfProject/buried-point-sdk/src/types/index.ts","/Users/cmh/Desktop/selfProject/buried-point-sdk/src/utils/pv.ts"]}
